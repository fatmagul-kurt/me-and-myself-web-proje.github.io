<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Me and Myself</title>
    <link rel="stylesheet" href="ilgiAlanlarim.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">Hakkımda</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
       
       
        <li class="nav-item">
          <a class="nav-link" href="ozgecmisim.html">Özgeçmişim</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="ilgiAlanlarim.html">İlgi Alanlarım</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="sehrim.html">Şehrim</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="login.html">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="iletisim.html">İletişim</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


 
<div class="container mt-5">
  <h1 class="text-center mb-4" style="color: transparent; text-shadow: 0 0 2px black;">Anime ve Şarkı Arama</h1>


  <form id="searchForm">
      <div class="mb-3">
          <label for="searchTitle" class="form-label" style="color: white;">Arama Başlığı:</label>
          <input type="text" class="form-control" id="searchTitle" style="background-color: transparent; color: white; border-color: white;" required>
      </div>
      <div class="mb-3">
          <label for="searchType" class="form-label" style="color: white;">Arama Türü:</label>
          <select class="form-select" id="searchType" style="background-color: transparent;  border-color: white;" required>
              <option value="anime" style="background-color: transparent" >Anime</option>
              <option value="spotify" style="background-color: transparent">Spotify</option>
          </select>
      </div>
      <button type="submit" class="btn btn-primary" style="background-color: transparent; color: white; border-color: white;">Ara</button>
  </form>
  <div id="results" class="row mt-4"></div>
</div>

  
  <!-- Combined API Script -->
  <script>
      // Anime API endpoint for searching anime titles
      const animeAPIEndpoint = 'https://api.jikan.moe/v4/anime?q=';

      // Spotify API endpoint for searching tracks (requires authorization)
      const spotifyAPIEndpoint = 'https://api.spotify.com/v1/search?type=track&q=';

      // Function to get the access token from the URL hash
      function getAccessToken() {
          const hash = window.location.hash.substring(1);
          const params = new URLSearchParams(hash);
          return params.get('access_token');
      }

      // Function to search for anime titles
      function searchAnime(animeTitle) {
          fetch(animeAPIEndpoint + encodeURIComponent(animeTitle))
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok ' + response.statusText);
              }
              return response.json();
          })
          .then(data => {
              // Display anime titles and images on the page
              const resultsContainer = document.getElementById('results');
              resultsContainer.innerHTML = ''; // Clear previous results
              if (data.data && data.data.length > 0) {
                  data.data.forEach(anime => {
                      const col = document.createElement('div');
                      col.classList.add('col-md-4', 'mb-4');

                      const card = document.createElement('div');
                      card.classList.add('card');

                      const cardLink = document.createElement('a');
                      cardLink.href = anime.url; // Link to anime detail page
                      cardLink.target = '_blank'; // Open in new tab

                      const cardImage = document.createElement('img');
                      cardImage.src = anime.images.jpg.image_url;
                      cardImage.alt = anime.title;
                      cardImage.classList.add('card-img-top');

                      const cardBody = document.createElement('div');
                      cardBody.classList.add('card-body');

                      const cardTitle = document.createElement('h5');
                      cardTitle.classList.add('card-title');
                      cardTitle.textContent = anime.title;

                      cardBody.appendChild(cardTitle);
                      cardLink.appendChild(cardImage);
                      card.appendChild(cardLink);
                      card.appendChild(cardBody);
                      col.appendChild(card);
                      resultsContainer.appendChild(col);
                  });
              } else {
                  resultsContainer.textContent = 'Sonuç bulunamadı.';
              }
          })
          .catch(error => {
              console.error('Error fetching anime:', error);
              const resultsContainer = document.getElementById('results');
              resultsContainer.innerHTML = 'Anime arama sırasında bir hata oluştu: ' + error.message;
          });
      }

      // Function to search for Spotify tracks
      function searchSpotify(trackTitle) {
          const accessToken = getAccessToken();
          if (!accessToken) {
              alert('Spotify API erişim tokeni eksik. Lütfen yetkilendirme işlemini tamamlayın.');
              return;
          }

          fetch(spotifyAPIEndpoint + encodeURIComponent(trackTitle), {
              headers: {
                  'Authorization': 'Bearer ' + accessToken
              }
          })
          .then(response => {
              if (!response.ok) {
                  throw new Error('Network response was not ok ' + response.statusText);
              }
              return response.json();
          })
          .then(data => {
              // Display Spotify tracks on the page
              const resultsContainer = document.getElementById('results');
              resultsContainer.innerHTML = ''; // Clear previous results
              if (data.tracks && data.tracks.items.length > 0) {
                  data.tracks.items.forEach(track => {
                      const col = document.createElement('div');
                      col.classList.add('col-md-4','mb-4');

const card = document.createElement('div');
card.classList.add('card');

const cardLink = document.createElement('a');
cardLink.href = track.external_urls.spotify; // Link to Spotify track
cardLink.target = '_blank'; // Open in new tab

const cardImage = document.createElement('img');
cardImage.src = track.album.images[0].url;
cardImage.alt = track.name;
cardImage.classList.add('card-img-top');

const cardBody = document.createElement('div');
cardBody.classList.add('card-body');

const cardTitle = document.createElement('h5');
cardTitle.classList.add('card-title');
cardTitle.textContent = track.name;

cardBody.appendChild(cardTitle);
cardLink.appendChild(cardImage);
card.appendChild(cardLink);
card.appendChild(cardBody);
col.appendChild(card);
resultsContainer.appendChild(col);
});
} else {
resultsContainer.textContent = 'Sonuç bulunamadı.';
}
})
.catch(error => {
console.error('Error fetching Spotify tracks:', error);
const resultsContainer = document.getElementById('results');
resultsContainer.innerHTML = 'Spotify arama sırasında bir hata oluştu: ' + error.message;
});
}

// Event listener for form submission
document.getElementById('searchForm').addEventListener('submit', function(event) {
event.preventDefault();
const searchTitle = document.getElementById('searchTitle').value;
const searchType = document.getElementById('searchType').value;

if (searchType === 'anime') {
searchAnime(searchTitle);
} else if (searchType === 'spotify') {
searchSpotify(searchTitle);
}

document.getElementById('searchTitle').value = ''; // Clear input field after submission
});
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="
</body>
</html>

